From 1841488b44f3711fefb6f00575f6c2978dca58fa Mon Sep 17 00:00:00 2001
From: SEED <seed@einfochips.com>
Date: Wed, 9 Sep 2020 11:59:28 +0530
Subject: [PATCH 2/2] SEED: Modification in Greengrass Support

---
 recipes-predmnt/greengrass.bb        | 35 ----------------------------
 recipes-predmnt/greengrass_1.10.0.bb | 45 ++++++++++++++++++++++++++++++++++++
 2 files changed, 45 insertions(+), 35 deletions(-)
 delete mode 100755 recipes-predmnt/greengrass.bb
 create mode 100755 recipes-predmnt/greengrass_1.10.0.bb

diff --git a/recipes-predmnt/greengrass.bb b/recipes-predmnt/greengrass.bb
deleted file mode 100755
index 58fee7c..0000000
--- a/recipes-predmnt/greengrass.bb
+++ /dev/null
@@ -1,35 +0,0 @@
-# Copyright (C) 2019, STMicroelectronics - All Rights Reserved
-
-SUMMARY = "Recipe to install Amazon AWS Greengrass"
-
-# Recipe created by recipetool
-# This is the basis of a recipe and may need further editing in order to be fully functional.
-# (Feel free to remove these comments when editing.)
-
-# Unable to find any files that looked like license statements. Check the accompanying
-# documentation and source headers and set LICENSE and LIC_FILES_CHKSUM accordingly.
-#
-# NOTE: LICENSE is being set to "CLOSED" to allow you to at least start building - if
-# this is not accurate with respect to the licensing of the software being built (it
-# will not be in most cases) you must specify the correct value before using this
-# recipe for anything other than initial testing/development!
-LICENSE = "Proprietary"
-LIC_FILES_CHKSUM = "file://../image/greengrass/ota/ota_agent_v1.2.0/LICENSE/THIRD-PARTY-LICENSES;md5=632ff94a8185c978475c184e49112276 \
-                    file://../image/greengrass/ota/ota_agent_v1.2.0/LICENSE/LICENSE;md5=cbd8d279038a7a6174c17a9342aadab7 \
-                    file://../image/greengrass/ggc/packages/1.10.0/THIRD-PARTY-LICENSES;md5=1f0ad815f019455e3a0efe55e888a69a \
-                    file://../image/greengrass/ggc/packages/1.10.0/LICENSE;md5=cbd8d279038a7a6174c17a9342aadab7 \
-"
-
-# No information for SRC_URI yet (only an external source tree was specified)
-SRC_URI = "https://d1onfpft10uf5o.cloudfront.net/greengrass-core/downloads/1.10.0/greengrass-linux-armv7l-1.10.0.tar.gz"
-SRC_URI[md5sum] = "e54bb57929bc278ea89737c4abcd89e8"
-SRC_URI[sha256sum] = "91f3d92dca977ea504921c7dbae96a926adce441c8f9ec1896e4c8cf085d6d2e"
-
-do_configure[noexec] = "1"
-do_compile[noexec] = "1"
-
-do_install () {
-    mv ${WORKDIR}/greengrass ${D}/greengrass
-}
-
-FILES_${PN} += "/greengrass"
diff --git a/recipes-predmnt/greengrass_1.10.0.bb b/recipes-predmnt/greengrass_1.10.0.bb
new file mode 100755
index 0000000..6909c3b
--- /dev/null
+++ b/recipes-predmnt/greengrass_1.10.0.bb
@@ -0,0 +1,45 @@
+# Copyright (C) 2019, STMicroelectronics - All Rights Reserved
+
+SUMMARY = "Recipe to install Amazon AWS Greengrass"
+
+# Recipe created by recipetool
+# This is the basis of a recipe and may need further editing in order to be fully functional.
+# (Feel free to remove these comments when editing.)
+
+# Unable to find any files that looked like license statements. Check the accompanying
+# documentation and source headers and set LICENSE and LIC_FILES_CHKSUM accordingly.
+#
+# NOTE: LICENSE is being set to "CLOSED" to allow you to at least start building - if
+# this is not accurate with respect to the licensing of the software being built (it
+# will not be in most cases) you must specify the correct value before using this
+# recipe for anything other than initial testing/development!
+#LICENSE = "MIT"
+LICENSE = "Proprietary"
+#LIC_FILES_CHKSUM = "file://../image/greengrass/ota/ota_agent_v1.2.0/LICENSE/THIRD-PARTY-LICENSES;md5=632ff94a8185c978475c184e49112276 \
+#                    file://../image/greengrass/ota/ota_agent_v1.2.0/LICENSE/LICENSE;md5=cbd8d279038a7a6174c17a9342aadab7 \
+#                    file://../image/greengrass/ggc/packages/1.10.0/THIRD-PARTY-LICENSES;md5=1f0ad815f019455e3a0efe55e888a69a \
+#                    file://../image/greengrass/ggc/packages/1.10.0/LICENSE;md5=cbd8d279038a7a6174c17a9342aadab7 \
+#"
+#
+
+LIC_FILES_CHKSUM = " \
+    file://ggc/core/THIRD-PARTY-LICENSES;md5=1f0ad815f019455e3a0efe55e888a69a \
+"
+S = "${WORKDIR}/${BPN}"
+
+# No information for SRC_URI yet (only an external source tree was specified)
+SRC_URI = "https://d1onfpft10uf5o.cloudfront.net/greengrass-core/downloads/1.10.0/greengrass-linux-armv7l-1.10.0.tar.gz"
+SRC_URI[md5sum] = "e54bb57929bc278ea89737c4abcd89e8"
+SRC_URI[sha256sum] = "91f3d92dca977ea504921c7dbae96a926adce441c8f9ec1896e4c8cf085d6d2e"
+
+do_configure[noexec] = "1"
+do_compile[noexec] = "1"
+
+do_install () {
+    mv ${WORKDIR}/greengrass ${D}/greengrass
+}
+
+#FILES_${PN} += "/greengrass"
+
+
+FILES_${PN} = "/${BPN}"
-- 
2.7.4

